Wall Street racked up more losses Wednesday as the stock market pulled back for the third straight day. The broad sell-off went beyond stocks, with the price of Bitcoin and other cryptocurrencies falling sharply.

The S&P 500 index dropped 0.3% after recovering from a 1.6% slide earlier in the day. The benchmark index is on track for its second weekly loss in a row.

Bank stocks were among the biggest decliners. Goldman Sachs fell 1.7% and Wells Fargo lost 1.5%. A range of retailers and other companies that rely directly on consumer spending also pulled the market lower. Home Depot slid 0.7%, Gap fell 3% and L Brands dropped 3.1%.

Energy sector stocks, the biggest gainers so far this year, bore the heaviest losses as the price of U.S. crude oil skidded 3.5%.

Digital currencies fell sharply after China’s banking association issued a warning over the risks associated with digital currencies. A statement posted on the industry association’s website said all members should “resolutely refrain from conducting or participating in any business activities related to virtual currencies.”

“Stocks and cryptocurrencies have been showing signs of froth over the past few months and were due for a pullback,” said Richard Saperstein, chief investment officer of Treasury Partners.

The S&P 500 lost 12.15 points to 4,115.68. The Dow Jones Industrial Average fell 164.62 points, or 0.5%, to 33,896.04. The blue-chip index had been down 586 points. The Nasdaq fared better than the rest of the market, shedding only 3.90 points, or less than 0.1%, to 13,299.74.

Smaller company stocks also lost ground. The Russell 2000 index gave up 17.24 points, or 0.8%, to 2,193.64.

Bitcoin’s price was down 10.8% to $38,723, well below its all-time high of over $64,800 reached a month ago, according to the crypto news site Coindesk. It swung in a huge range of as low as $30,202 and as high as $43,621 over the course of the day.

That the headline out of China rattled crypto investors suggests the market was already weak, said Willie Delwiche, investment strategist at All Star Charts.

“If Bitcoin had been holding up better, a headline like that would be dismissed more readily, but it comes at a time when Bitcoin was already well off its highs,” he said. “It gave people who were looking for a reason to sell cover.”

The Bitcoin skid comes after longtime Bitcoin advocate Tesla recently recently said it would no longer accept Bitcoin as payment for its cars, reversing its earlier position.

The selling was so intense that the web site of Coinbase, an online brokerage for digital currencies, was temporarily down in the morning. Coinbase’s stock dropped 5.9%, ending about 34% below the peak it reached on April 16, just two days after its IPO.

Investors continue to be focused on whether rising inflation will be temporary or whether it will endure. Prices are rising for everything from gasoline to food as the economy recovers from its more than year-long malaise.

The Federal Reserve expects that rising inflation will be temporary and related to the recovering economy, but investors are still uncertain and have been more cautious.

“That’s one of the things people are struggling with,” said J.J. Kinahan, chief strategist with TD Ameritrade. “They go to get gas and get in line at a grocery store and they see higher prices; there’s this mixed message for the average investor.”

The fear is that the Federal Reserve will have to dial back its extensive support if inflation persists. That includes record-low interest rates and the monthly purchase of $120 billion in bonds meant to goose the job market and economy.

The minutes from the central bank’s April meeting of policymakers, which were released Wednesday afternoon, reaffirmed the view that the Fed’s decision to keep its benchmark interest rate ultra-low remains the best policy approach, though some officials cautioned that some factors pushing inflation higher may not be resolved quickly.

For all the worries about inflation, however, many professional investors are echoing the Federal Reserve in saying that they expect rising prices to be “transitory.”

Higher interest rates drag on most of the stock market, but they are particularly painful for stocks, especially technology shares, considered the most expensive and those bid up for profits expected far into the future.

Treasury yields mostly rose. The yield on the 10-year Treasury note rose to 1.67% from 1.64% late Tuesday.

Target gained 6.1% after reporting strong results as consumers, some flush with U.S. stimulus payments, were eager to spend as the pandemic eases.