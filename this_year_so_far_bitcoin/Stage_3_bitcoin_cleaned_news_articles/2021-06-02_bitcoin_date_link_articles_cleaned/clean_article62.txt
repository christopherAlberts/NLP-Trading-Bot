this weeks bitcoin optech newsletter describes a proposal to change bitcoin core’s transaction selection algorithm and morethe bitcoin optech newsletter provides readers with a toplevel summary of the most important technical news happening in bitcoin along with resources that help them learn more to help our readers stay uptodate with bitcoin were republishing the latest issue of this newsletter below remember to subscribe to receive this content straight to your inboxthis week’s newsletter describes a proposal to change bitcoin core’s transaction selection algorithm for miner block templates to slightly increase miner profitability and give fee bumping users more collective leverage also included are our regular sections describing software releases and release candidates plus notable changes to popular bitcoin infrastructure softwarenewscandidate set based csb block template construction mark erhardt posted to the bitcoindev mailing list about an analysis he and clara shikhelman performed on an alternative transaction selection algorithm for miners bitcoin’s consensus rules enforce that no transaction can be included in a block unless all of its unconfirmed ancestors are also included earlier in that same block bitcoin core addresses this constraint by treating each transaction with unconfirmed ancestors as if it contained both the fees and the size of those ancestors for example if transaction b depends on unconfirmed transaction a then bitcoin core adds together the fees paid by both transactions and divides them by the combined size of both transactions this allows bitcoin core to fairly compare all transactions in the mempool based on their effective feerate whether or not those transactions have any ancestorshowever erhardt and shikhelman note that a more sophisticated algorithm that may require a bit more cpu can find sets of related transactions that are even more profitable to mine than bitcoin core’s existing simple algorithm the authors tested their algorithm on historic mempool data and found that it would’ve collected slightly more fees than bitcoin core’s existing algorithm in almost all recent blocksif implemented and used by miners the improved algorithm could allow multiple users who each received an output from a large coinjoin or batched payment to each pay a small part of the total fee necessary to cpfp fee bump that coinjoin or payment that would be an improvement over the current case where each user’s cpfp fee bump is considered independently and multiple related fee bumps may not have an aggregate effect on whether an ancestor transaction is minedrelease and release candidatesnew releases and release candidates for popular bitcoin infrastructure projects please consider upgrading to new releases or helping to test release candidateshwi  is a minor release that adds support for message signing with the  always uses h instead of  to indicated  paths with hardened derivation and includes several bug fixesinstead of to indicated  paths with hardened derivation and includes several bug fixes lnd  is a release candidate that adds support for using a pruned bitcoin full node allows receiving and sending payments using atomic multipath amp and increases its psbt capabilities among other improvements and bug fixesnotable code and documentation changesnotable changes this week in bitcoin core clightning eclair lnd rustlightning  hardware wallet interface hwi rust bitcoin btcpay server bitcoin improvement proposals bips and lightning boltsbitcoin core  is the first pr in an effort to implement mempool package acceptance in bitcoin core this change allows the testmempoolaccept rpc to accept multiple transactions where later transactions may be descended from earlier transactions future prs may enable testing  transaction chains submitting transaction packages directly to the mempool through rpcs and communicating packages over the  networkrpc to accept multiple transactions where later transactions may be descended from earlier transactions future prs may enable testing  transaction chains submitting transaction packages directly to the mempool through rpcs and communicating packages over the  network bitcoin core  updates the code signing certificate used for windows releases after the previous certificate was revoked by its issuer without them providing an explicit reason several recent releases of bitcoin core might be rereleased with slightly different version numbers so that their windows binaries can use this certificatebitcoin core  increases the maximum number of utxos received to the same address that will be spent simultaneously if the avoidreuse wallet flag is set the more outputs that are spent together the higher the fee might be relative to a wallet with default flags but also the less likely it becomes that third parties will be able to identify the user’s later transactionswallet flag is set the more outputs that are spent together the higher the fee might be relative to a wallet with default flags but also the less likely it becomes that third parties will be able to identify the user’s later transactions clightning  adds json schemas for the output of roughly half of clightning’s current commands with schemas for the other half planned to be added in the future output produced during a run of clightning’s test suite is validated against the schemas to ensure consistency the schemas are also used to automatically generate clightning’s documentation about what output each command produceslnd  adds basic support for using signet of the other ln implementations tracked by optech clightning also has support for signet see newsletter lnd  adds a configuration option to randomly select which wallet utxos to spend in a transaction this reduces utxo fragmentation in the wallet over time by contrast the default coin selection algorithm in lnd spends higher value utxos before lower value utxos this minimizes fees in the short term but may result in needing to pay higher fees in the future when all inputs near the size of a transaction or larger have already been spentbolts  updates  to allow nodes to negotiate a optionshutdownanysegwit option which if set allows ln closing transactions to be able to pay any segwit script version including script types that don’t yet have consensus meaning on the network such as addresses for taprootoption which if set allows ln closing transactions to be able to pay any segwit script version including script types that don’t yet have consensus meaning on the network such as addresses for taproot bolts  updates ’s use of  to specify in more detail the sort order to use for commitment transaction inputs and outputs one commentator points out that the use of  has so far caused three separate problems that may have led to accidental channel closures and small amounts of funds lost to unnecessary onchain fees the commentator suggests that this is another reason to migrate away from explicit use of  for other reasons see newsletter find the original post hereplease subscribe to the bitcoin optech newsletter directly to receive this content straight to your inbox every monththe views and opinions expressed herein are the views and opinions of the author and do not necessarily reflect those of nasdaq inc